$(document).ready(function(){function e(e,s,r){var a=[];if(r)for(s;s>=e;s--)1===s.toString().length?a.push("0"+s.toString()):a.push(s.toString());else for(e;e<=s;e++)1===e.toString().length?a.push("0"+e.toString()):a.push(e.toString());return a}function s(e,s){var r=$(e.content());if(r.children().length<=0)return!1}function r(e,s){function r(e,s){var r=e.attr("class"),a=!0;t.each(function(e,o){$(this).hasClass(r)&&("add"===s?a=!1:"remove"===s&&(t.splice(e,1),n=!0))}),a&&"add"===s&&(n=!0,l.push(e))}var a=e.split(""),t=$(s.content()).find("p"),o=$(s.elementOrigin()).attr("id"),n=!1,l=[];if("username"===o){var d=$('<p class="usrnm-length">At least 5 characters</p>'),c=$('<p class="usrnm-number">At least 1 number</p>'),p=$('<p class="usrnm-spaces">No spaces</p>'),m=($('<p class="usrnm-group">Cannot use health plan group number</p>'),$('<p class="usrnm-special">Can contain special characters (@_-,#)</p>')),u=!1,f=!1;a.length<5?r(d,"add"):r(d,"remove");for(i in a){var h=a[i];$.isNumeric(h)&&(u=!0),h.indexOf(" ")>=0&&(f=!0)}u?r(c,"remove"):r(c,"add"),f?r(p,"add"):r(p,"remove"),/^[a-zA-Z0-9@_\-,#. ]*$/.test(e)===!1?r(m,"add"):r(m,"remove")}else if("password"===o){var d=$('<p class="password-length">At least 8 characters</p>'),c=$('<p class="password-number">At least 1 number</p>'),g=$('<p class="password-uppercase">An uppercase letter</p>'),v=$('<p class="password-lowercase">A lowercase letter</p>'),m=$('<p class="password-special">At least 1 special character (@_-,#)</p>'),b=$('<p class="password-username">Cannot be the same as username</p>'),w=$('<p class="password-firstname">Cannot be first name</p>'),C=$('<p class="password-lastname">Cannot be last name</p>'),y=$('<p class="password-repeat">Cannot contain four or more repeating numbers, letters, or characters</p>'),q=$('<p class="password-sequential">Cannot contain three or more sequential numbers or letters (123, ABC)</p>'),p=$('<p class="password-spaces">No spaces</p>'),A=$('<p class="password-member">Cannot use your member ID number</p>'),S=null!==e.match(/(.)\1\1\1+/g),u=!1,k=!1,I=!1,z=!1,f=!1;a.length<8?r(d,"add"):r(d,"remove");for(i in a){var D=parseInt(i),h=a[D];if($.isNumeric(h)&&(u=!0),h!==h.toUpperCase()||$.isNumeric(h)||/^[a-zA-Z0-9]*$/.test(h)!==!0||(k=!0),h!==h.toLowerCase()||$.isNumeric(h)||/^[a-zA-Z0-9]*$/.test(h)!==!0||(I=!0),D+2<=a.length-1){var L=function(e){var s=[];for(character in e){if(/^[a-zA-Z0-9]*$/.test(e[character])!==!0){s=[];break}s.push(e[character])}return s},M=L([a[D],String.fromCharCode(a[D].charCodeAt(0)+1),String.fromCharCode(a[D].charCodeAt(0)+2)]),N=L([a[D],a[D+1],a[D+2]]);if(M.length===N.length){var B=N.every(function(e,s){return e===M[s]});B&&(z=!0)}}h.indexOf(" ")>=0&&(f=!0)}u?r(c,"remove"):r(c,"add"),k?r(g,"remove"):r(g,"add"),I?r(v,"remove"):r(v,"add"),/^[a-zA-Z0-9 ]*$/.test(e)===!1?r(m,"remove"):r(m,"add"),$("#username").length>0&&($("#username").val()===e&&""!==e?r(b,"add"):r(b,"remove")),"john"===e.toLowerCase()?r(w,"add"):r(w,"remove"),"smith"===e.toLowerCase()?r(C,"add"):r(C,"remove"),S?r(y,"add"):r(y,"remove"),z?r(q,"add"):r(q,"remove"),f?r(p,"add"):r(p,"remove"),"12345"===e?r(A,"add"):r(A,"remove")}if(n===!0){var T='<div id="tooltip-username">';t.each(function(e,s){T+=$(this).prop("outerHTML")});for(i in l)T+=l[i].prop("outerHTML");T+="</div>",s.content(T),0===t.length&&0===l.length?s.close():!s.status().open&&$("#"+o).is(":focus")&&s.open()}}$("#sign-in-form").validate({rules:{username:"required",password:{required:!0,password:!0},"password-confirm":{required:!0,equalTo:"#password"},"member-id":"required","dob-mm":{dob:!0,required:!0},"dob-dd":{dob:!0,required:!0},"dob-yyyy":{dob:!0,required:!0},missing:"required",lastname:"required",zipcode:"required"},groups:{dobGroup:"dob-mm dob-dd dob-yyyy"},highlight:function(e){$(e).closest(".radio-group").length>0?$(e).closest(".radio-group").addClass("field-has-error"):$(e).closest(".field--dob").length>0?$(e).closest(".field--dob").addClass("field-has-error"):$(e).closest(".field").addClass("field-has-error"),$(e).closest("form").find("legend").addClass("field-has-error")},unhighlight:function(e){if($(e).closest(".radio-group").length>0)$(e).closest(".radio-group").removeClass("field-has-error");else if($(e).closest(".field--dob").length>0){var s=!1;$(e).closest(".field--dob").find("select").each(function(e,r){""!==$(this).val()&&$(this).val()||(s=!0)}),s||$(e).closest(".field--dob").removeClass("field-has-error")}else $(e).closest(".field").removeClass("field-has-error"),$(e).closest(".field").find(".error").remove();$(e).closest("form").find("legend").removeClass("field-has-error")},errorPlacement:function(e,s){$(s).closest(".radio-group").length>0?$(s).closest(".radio-group").append(e):$(s).closest(".field--dob").length>0?s.closest(".field--dob").append(e):s.closest(".field").find(".error").length<=0&&$(s).closest(".field").append(e)}}),$.validator.addMethod("password",function(e,s){var r=$(m.content()).children().length;return this.optional(s)||r<=0},"Password does not meet requirements."),$.validator.addMethod("dob",function(e,s){var r=!1;return $(s).closest(".field--dob").find("select").each(function(e,s){""!==$(this).val()&&$(this).val()||(r=!0)}),!r},"Please complete all date fields."),$("#email-modal-form").validate({rules:{"email-type":"required","new-email":"required","new-email-confirm":{required:!0,equalTo:"#new-email"}},highlight:function(e){$(e).closest(".radio-group").length>0?$(e).closest(".radio-group").addClass("field-has-error"):$(e).closest(".field").addClass("field-has-error"),$(e).closest("form").find("legend").addClass("field-has-error")},unhighlight:function(e){$(e).closest(".radio-group").length>0?$(e).closest(".radio-group").removeClass("field-has-error"):$(e).closest(".field").removeClass("field-has-error"),$(e).closest("form").find("legend").removeClass("field-has-error")},errorPlacement:function(e,s){$(s).closest(".radio-group").length>0?$(s).closest(".radio-group").append(e):$(s).closest(".field").append(e)}}),$("#email-modal-continue").click(function(e){e.preventDefault();var s=$("#email-modal-form").valid();s&&$("#multipleEmailModal").modal("hide")}),$('[name="email-type"]').change(function(e){"diff-email"===$(this).val()?$(".padding-left-large").removeClass("hidden"):$(".padding-left-large").addClass("hidden")}),$("#sign-in-btn").click(function(e){var s=$("#sign-in-form").valid();s||e.preventDefault()}),$("#missing-btn").click(function(e){var s=$("#sign-in-form").valid();s&&(e.preventDefault(),window.location.href="/sign-in/assistance/sign-in-assistance-additional.html")}),$("#missing-additional-btn").click(function(e){var s=$("#sign-in-form").valid();s&&(e.preventDefault(),window.location.href="/sign-in/assistance/sign-in-assistance-confirm.html")}),$("#change-password-btn").click(function(e){var s=$("#sign-in-form").valid();s&&(e.preventDefault(),window.location.href="/sign-in/assistance/sign-in-new-password-confirmation.html")});var a=document.getElementById("date-mm"),t=document.getElementById("date-dd"),o=document.getElementById("date-yyyy"),n=e(1,12),l=e(1,31),d=e(1930,2017,!0);$("#date-mm").select2({data:n,placeholder:" "}),$("#date-dd").select2({data:l,placeholder:" "}),$("#date-yyyy").select2({data:d,placeholder:" "});var c=sessionStorage.getItem("member-id"),p=sessionStorage.getItem("dob");null!==c&&c.length>0&&$("#member-id").attr("value",c),null!==p&&p.length>0&&(p=p.split(","),$(a).val(p[0]).trigger("change"),$(t).val(p[1]).trigger("change"),$(o).val(p[2]).trigger("change")),$(".tooltip-password").tooltipster({content:$("#tooltip-password"),contentCloning:!0,contentAsHTML:!0,interactive:!0,trigger:"custom",maxWidth:250,side:"right",functionBefore:s});var m=$(".tooltip-password").tooltipster("instance"),u=$("#password");u.length>0&&u.hasClass("tooltipstered")&&r(u.val(),m),u.focus(function(e){m.open()}),u.blur(function(e){m.close()}),u.keyup(function(e){r($(this).val(),m)})});