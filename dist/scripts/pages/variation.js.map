{"version":3,"sources":["pages/variation.js"],"names":["$","document","ready","click","event","preventDefault","toggle","attr","toggleClick","highlightClick","moveTooltips","p","t","each","index","el","me","tt","find","prepend","append","fadeBg","hideVariation","e","s","next","closest","w","parent","b","hasClass","hide","show","fadeEl","length","prev","removeClass","addClass","d","fadeOut","undefined","fadeIn","c","ec","css","indexOf","replace","slice","TweenLite","fromTo","clearStyles","o","toggleHighlight","wrap","unwrap","toggleButton","tooltip","variationEl"],"mappings":"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","file":"variation.js","sourcesContent":["$(document).ready(function() {\n  $('#toggle-variation').click(function(event) {\n    event.preventDefault();\n\n    var toggle = $(this).attr('data-variation');\n    toggle === 'true' ? toggle = true : toggle = false;\n\n    toggleClick($(this), toggle);\n  });\n\n  $('#highlight-variation').click(function(event) {\n    event.preventDefault();\n\n    var toggle = $(this).attr('data-variation');\n    toggle === 'true' ? toggle = true : toggle = false;\n\n    highlightClick($(this), toggle);\n  });\n});\n\nfunction moveTooltips(p, t) {\n  p.each(function(index, el) {\n    var me = $(this),\n        tt = me.find('.tooltipstered');\n\n    if (t) {\n      me.prepend(tt);\n    } else {\n      me.append(tt);\n    }\n\n    fadeBg(me, t);\n  });\n}\n\nfunction hideVariation(e, t) {\n  e.each(function(index, el) {\n    var me = $(this),\n        s = me.next(),\n        p = me.closest('.collapse-wrapper'),\n        w = me.parent(),\n        b = w.hasClass('variation-highlight');\n\n    if (b) {\n      s = w.next();\n    }\n\n    if (s.hasClass('variation-orig')) {\n      if (b) {\n        t ? w.hide() : w.show()\n      }\n\n      t ? me.hide() : fadeEl(me, 'in')\n      t ? fadeEl(s, 'in') : s.hide()\n      t ? fadeBg(s, t) : fadeBg(me, t)\n    } else {\n      if (b) {\n        t ? fadeEl(me, 'out', w) : fadeEl(me, 'in', w)\n      } else {\n        t ? fadeEl(me, 'out') : fadeEl(me, 'in')\n      }\n      fadeBg(me, t);\n    }\n\n    if (p.length > 0) {\n      t ? p.prev().removeClass('pdf-list') : p.prev().addClass('pdf-list')\n    }\n\n    function fadeEl(me, d, w) {\n      if (d === 'out') {\n        me.fadeOut('300', function() {\n          if (w !== null && w !== undefined) {\n            w.hide()\n          }\n        })\n      } else {\n        if (w !== null && w !== undefined) {\n          w.show();\n        }\n\n        me.fadeIn('300');\n      }\n    }\n  });\n}\n\nfunction fadeBg(me, t) {\n  var c = t ? 'rgba(255, 230, 240, ' : c = 'rgba(225, 250, 223, ',\n      ec = me.css('background-color' ,'').css('background-color');\n\n  // Remove alpha if exists\n  if(ec.indexOf('a') >= 0) {\n    ec = ec.replace('a', '').slice(0, 17) + ')';\n  }\n\n  TweenLite.fromTo(me, 1, {\n    'background-color': c + '1)'\n  },{\n    'background-color': c + (!t && ec === 'rgb(225, 250, 223)' ? '1)' : '0)'),\n    'onComplete': clearStyles,\n    'onCompleteParams': [me]\n  });\n\n  function clearStyles(o) {\n    o.css('background-color', '');\n  }\n}\n\nfunction toggleHighlight(e, t) {\n  e.each(function(index, el) {\n    var me = $(this);\n\n    if (!me.parent().hasClass('variation-highlight')) {\n      me.wrap('<div class=\"variation-highlight\"></div>');\n    } else {\n      me.unwrap();\n    }\n  });\n}\n\nfunction toggleButton(me, t) {\n  if (t) {\n    me.attr('data-variation', false);\n  } else {\n    me.attr('data-variation', true);\n  }\n}\n\nfunction toggleClick(me, t) {\n  var tooltip = $('[data-tooltip-side]'),\n      variationEl = $('.variation-el');\n\n  if (tooltip.length > 0) {\n    moveTooltips(tooltip, t);\n  }\n\n  if (variationEl.length > 0) {\n    hideVariation(variationEl, t);\n  }\n\n  toggleButton(me, t);\n}\n\nfunction highlightClick(me, t) {\n  var tooltip = $('[data-tooltip-side]'),\n      variationEl = $('.variation-el');\n\n  // Check for tooltips\n  if (tooltip.length > 0) {\n    toggleHighlight(tooltip, t);\n  }\n\n  // Check for success message\n  if (variationEl.length > 0) {\n    toggleHighlight(variationEl, t)\n  }\n\n  toggleButton(me, t);\n}\n"]}