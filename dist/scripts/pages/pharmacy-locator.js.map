{"version":3,"sources":["pages/pharmacy-locator.js"],"names":["$","document","ready","click","event","preventDefault","val","modal","$filterBody","$filterButton","$windowWidth","window","width","TweenLite","set","opacity","height","display","from","attr","$filterOpen","to","top","change","html","find","length","$loadingBlock","hasAttribute","show","setTimeout","fadeOut","removeAttr","$currentFilters","$resultFilters","$thisFilter","$newResults","$filterCount","i","$preferredPharmacies","filters","each","index","el","j","value","push","setMarkers","saverMarkers","saverLabels","$newMarkers","$newLabels","$markerIndex","$thisName","name","title","text","color","map","centerMap","Store","resultList","hasResults","collapse","hover","$index","isWindowOpen","saverWindows","type","setIcon","greenPinImage","bluePinImage","greenCircleImage","blueCircleImage","$pharmacyType","next","unshift","infoWindows","saverWindowContents","standardMarkers","standardLabels","standardWindows","standardWindowContents","url","size","google","maps","Size","origin","Point","anchor","scaledSize","totalCost","costNumber","cost","initMap","Map","getElementById","center","LatLng","zoom","scrollwheel","styles","thisMarker","Marker","position","lat","lng","animation","Animation","DROP","label","toString","MapLabel","fontSize","align","distance","address1","InfoWindow","content","addListener","closeWindows","collapseMarkerIcons","open","panTo","addDomListener","mapCenter","getCenter","trigger","setCenter","arr","context","get","setMap","close","removeOtherMarkers","markers","infoWindow","undefined","windowContent","getContent","regexSelect","regexStandard","regexPrice","test","concat","setContent","removeAllMarkers","bounds","LatLngBounds","extend","getPosition","fitBounds","getMap","countProperties","obj","count","prop","hasOwnProperty"],"mappings":"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","file":"pharmacy-locator.js","sourcesContent":["$(document).ready(function() {\n  // // Change filters on plan type select\n  // $('#plan-type').change(function(event) {\n  //   var $val = $(this).val(),\n  //       $retail = $('#retail-checkbox'),\n  //       $saver = $('#saver-checkbox');\n  //\n  //   if ($val === 'Preferred') {\n  //     $saver.hide();\n  //     $retail.show();\n  //   } else {\n  //     $retail.hide();\n  //     $saver.show();\n  //   }\n  // });\n\n  // Show county modal\n  $('#zipcode-button').click(function(event) {\n    event.preventDefault();\n\n    if ($('#zipcode').val() === '12345') {\n      $('#countyModal').modal('show');\n    }\n  });\n\n  // Open filters if desktop\n  var $filterBody = $('.filter-body-wrapper'),\n      $filterButton = $('.filter-button'),\n      $windowWidth = $(window).width();\n\n  if ($windowWidth > 768) {\n    TweenLite.set($filterBody, { opacity: 1, height: 'auto', display: 'block' });\n\n    TweenLite.from($filterBody, 0.3, {\n      display: 'none',\n      height: '0'\n    });\n\n    $filterButton.attr('data-filter-open', 'true');\n  }\n\n  // Open / close filters\n  $filterButton.click(function(event) {\n    event.preventDefault();\n\n    var $filterOpen = $(this).attr('data-filter-open');\n\n    $windowWidth = $(window).width();\n\n    // If mobile\n    if ($windowWidth <= 768) {\n      if ($filterOpen === 'false') {\n        TweenLite.set($filterBody, { opacity: 0, height: 'auto' });\n\n        TweenLite.to($filterBody, 0.3, {\n          display: 'block',\n          opacity: 1,\n          top: '85%'\n        });\n\n        $(this).attr('data-filter-open', 'true');\n      } else {\n        TweenLite.to($filterBody, 0.3, {\n          display: 'none',\n          opacity: 0,\n          top: '50%'\n        });\n\n        $(this).attr('data-filter-open', 'false');\n      }\n    } else {\n      if ($filterOpen === 'false') {\n        TweenLite.set($filterBody, { opacity: 1, height: 'auto', display: 'block' });\n\n        TweenLite.from($filterBody, 0.3, {\n          display: 'none',\n          height: '0'\n        });\n\n        $(this).attr('data-filter-open', 'true');\n      } else {\n        TweenLite.to($filterBody, 0.3, {\n          display: 'none',\n          height: '0'\n        });\n\n        $(this).attr('data-filter-open', 'false');\n      }\n    }\n  });\n\n  // Filter results and count pharmacies\n  $('.pharmacyFilters').change(function(event) {\n    $('#filterNumber').html($(this).find('input[type=checkbox]:checked').length);\n\n    // Show loading block\n    var $loadingBlock = $('.loading-block');\n\n    if (!$loadingBlock[0].hasAttribute('load-animating')) {\n      $loadingBlock.show();\n      $loadingBlock.attr('load-animating', 'true');\n\n      setTimeout(function () {\n        $loadingBlock.fadeOut('fast');\n        $loadingBlock.removeAttr('load-animating');\n      }, 300);\n    }\n\n    // Filter results\n    var $currentFilters = $(this).find('input[type=checkbox]:checked'),\n        $resultFilters,\n        $thisFilter,\n        $newResults = [],\n        $filterCount = [];\n\n    // Check each pharmacy\n    for (var i = 0; i < $preferredPharmacies.length; i++) {\n      $resultFilters = $preferredPharmacies[i].filters;\n      $filterCount = [];\n\n      // Check if contains selected filters\n      $currentFilters.each(function(index, el) {\n        for (var j = 0; j < $resultFilters.length; j++) {\n          // Check current pharmacy\n          if (el.value === $resultFilters[j]) {\n            $filterCount.push('');\n            break;\n          }\n        }\n      });\n\n      // If all filters match\n      if ($currentFilters.length === $filterCount.length) {\n        $newResults.push($preferredPharmacies[i]);\n      }\n    }\n\n    // Set map pins\n    setMarkers(saverMarkers, null);\n    setMarkers(saverLabels, null);\n\n    var $newMarkers = [],\n        $newLabels = [],\n        $markerIndex = 1;\n\n    for (var i = 0; i < $newResults.length; i++) {\n      var $thisName = $newResults[i].name;\n\n      // Each marker\n      for (var j = 0; j < saverMarkers.length; j++) {\n        if ($thisName === saverMarkers[j].title) {\n          $newMarkers.push(saverMarkers[j]);\n          $newLabels.push(saverMarkers[j]);\n\n          // Change number label\n          saverMarkers[j].set('label', {text: $markerIndex, color: 'white'});\n          $markerIndex++;\n        }\n      }\n    }\n\n    setMarkers($newMarkers, map);\n    setMarkers($newLabels, map);\n    centerMap(saverMarkers);\n\n    // Remove all listings from storage\n    Store.set(['PL'], {resultList: $newResults});\n\n    if ($newResults.length === 0) {\n      Store.set(['PL'], {hasResults: false});\n      $('#collapseMap').collapse('hide');\n    } else {\n      Store.set(['PL'], {hasResults: true});\n      $('#collapseMap').collapse('show');\n      centerMap(saverMarkers);\n    }\n  });\n\n  // Add pharmacies to list\n  var $preferredPharmacies = [\n    {\n      'lat': 44.981672,\n      'lng': -93.283818,\n      'markerNumber': '1',\n      'name': 'CVS Pharmacy',\n      'address1': '795 Oglethorpe Ave',\n      'address2': 'Minneapolis, MN 55408',\n      'phone': '612-555-5555 (TTY 711)',\n      'distance': '0.81',\n      'type': 'standard',\n      'filters': [\n        'Standard Network Pharmacy',\n        'Open 24 Hours',\n        'Mail Order Pharmacy'\n      ]\n    },\n    {\n      'lat': 44.980445,\n      'lng': -93.275313,\n      'markerNumber': '2',\n      'name': 'Bob\\'s Club Pharmacy',\n      'address1': '347 Mirum Circle',\n      'address2': 'Minneapolis, MN 55408',\n      'phone': '612-555-5555 (TTY 711)',\n      'distance': '0.93',\n      'type': 'saver',\n      'filters': [\n        'Open 24 Hours',\n        'Mail Order Pharmacy',\n        'E-Prescribing',\n        'Long-Term Care',\n        'Home Infusion and Speciality'\n      ]\n    },\n    {\n      'lat': 44.976645,\n      'lng': -93.259813,\n      'markerNumber': '3',\n      'name': 'Walblues',\n      'address1': '965 Snapple Drive',\n      'address2': 'Minneapolis, MN 55408',\n      'phone': '612-555-5555 (TTY 711)',\n      'distance': '1.36',\n      'type': 'saver',\n      'filters': [\n        'Open 24 Hours',\n        'Mail Order Pharmacy',\n      ]\n    },\n    {\n      'lat': 44.975702,\n      'lng': -93.273759,\n      'markerNumber': '4',\n      'name': 'UHCMR Pharmacy',\n      'address1': '123 Health Drive',\n      'address2': 'Minneapolis, MN 55408',\n      'phone': '612-555-5555 (TTY 711)',\n      'distance': '1.55',\n      'type': 'standard',\n      'filters': [\n        'Standard Network Pharmacy',\n        'Open 24 Hours',\n        'Mail Order Pharmacy',\n      ]\n    }\n  ];\n\n  for (var i = 0; i < $preferredPharmacies.length; i++) {\n    Store.push(['PL', 'resultList'], $preferredPharmacies[i]);\n  }\n\n  // Result listing hover\n  $('ul.pharmacy-list > li').hover(function() {\n    var $index = $(this).index() - 1;\n\n    if ($index >= 0) {\n      // Check if any infowindows open\n      if (isWindowOpen(saverWindows)) {\n        return;\n      }\n\n      // Set icon\n      if ($preferredPharmacies[$index]) {\n        if ($preferredPharmacies[$index].type === 'saver') {\n          saverMarkers[$index].setIcon(greenPinImage);\n        } else {\n          saverMarkers[$index].setIcon(bluePinImage);\n        }\n      }\n    }\n  }, function() {\n    var $index = $(this).index() - 1;\n\n    if ($index >= 0) {\n      // Check if any infowindows open\n      if (isWindowOpen(saverWindows)) {\n        return;\n      }\n\n      // Set icon\n      if ($preferredPharmacies[$index]) {\n        if ($preferredPharmacies[$index].type === 'saver') {\n          saverMarkers[$index].setIcon(greenCircleImage);\n        } else {\n          saverMarkers[$index].setIcon(blueCircleImage);\n        }\n      }\n    }\n  });\n\n  // Get pharmacy type & add to results\n  (function() {\n    var $pharmacyType = $('#pharmacy-saver').next().html();\n\n    $preferredPharmacies[1]['filters'].unshift($pharmacyType);\n    $preferredPharmacies[2]['filters'].unshift($pharmacyType);\n  })();\n\n\n  // console.log(Store.ref(['PL']).data['resultList']);\n\n\n  //----------------------------------------------------------------------------\n  //  Google Maps API\n  //----------------------------------------------------------------------------\n\n  var map,\n      infoWindows = [],\n      saverMarkers = [],\n      saverLabels = [],\n      saverWindows = [],\n      saverWindowContents = [],\n      standardMarkers = [],\n      standardLabels = [],\n      standardWindows = [],\n      standardWindowContents = [],\n      blueCircleImage = {\n        url: '/images/icon-svgs/mapmarker-pill-blue.svg',\n        size: new google.maps.Size(40, 40),\n        origin: new google.maps.Point(0, 0),\n        anchor: new google.maps.Point(20, 20),\n        scaledSize: new google.maps.Size(40, 40)\n      },\n      greenCircleImage = {\n        url: '/images/icon-svgs/mapmarker-pill-green.svg',\n        size: new google.maps.Size(40, 40),\n        origin: new google.maps.Point(0, 0),\n        anchor: new google.maps.Point(20, 20),\n        scaledSize: new google.maps.Size(40, 40)\n      },\n      bluePinImage = {\n        url: '/images/icon-svgs/mapmarker-pin-blue.svg',\n        size: new google.maps.Size(40, 40),\n        origin: new google.maps.Point(0, 0),\n        anchor: new google.maps.Point(20, 40),\n        scaledSize: new google.maps.Size(40, 40)\n      },\n      greenPinImage = {\n        url: '/images/icon-svgs/mapmarker-pin-green.svg',\n        size: new google.maps.Size(40, 40),\n        origin: new google.maps.Point(0, 0),\n        anchor: new google.maps.Point(20, 40),\n        scaledSize: new google.maps.Size(40, 40)\n      };\n\n  // Cost spinner\n  var totalCost = $('.total-cost'),\n      costNumber = {cost: 0};\n\n  // Initialize map\n  function initMap() {\n    map = new google.maps.Map(document.getElementById('map'), {\n      center: new google.maps.LatLng(44.979972, -93.277818),\n      zoom: 14,\n      scrollwheel: false,\n      styles:\n        [\n          {\n            'featureType': 'administrative.land_parcel',\n            'elementType': 'labels',\n            'stylers': [\n              {\n                'visibility': 'off'\n              }\n            ]\n          },\n          {\n            'featureType': 'poi.business',\n            'stylers': [\n              {\n                'visibility': 'off'\n              }\n            ]\n          },\n          {\n            'featureType': 'poi.park',\n            'elementType': 'labels.text',\n            'stylers': [\n              {\n                'visibility': 'off'\n              }\n            ]\n          },\n          {\n            'featureType': 'road.local',\n            'elementType': 'labels',\n            'stylers': [\n              {\n                'visibility': 'off'\n              }\n            ]\n          }\n        ]\n    });\n\n    // Create saver markers\n    for (var i = 0; i < $preferredPharmacies.length; i++) {\n      var thisMarker = $preferredPharmacies[i];\n\n      // Create marker\n      saverMarkers[i] = new google.maps.Marker({\n        position: {\n          lat: thisMarker.lat,\n          lng: thisMarker.lng\n        },\n        title: thisMarker.name,\n        animation: google.maps.Animation.DROP,\n        label: {\n          text: (i + 1).toString(),\n          color: 'white'\n        }\n      });\n\n      // Set icon\n      if (thisMarker.type === 'saver') {\n        saverMarkers[i].setIcon(greenCircleImage);\n      } else {\n        saverMarkers[i].setIcon(blueCircleImage);\n      }\n\n      saverMarkers[i].index = i; //add index property\n\n      // Create label\n      saverLabels[i] = new MapLabel({\n        text: thisMarker.name,\n        position: new google.maps.LatLng(thisMarker.lat, thisMarker.lng),\n        fontSize: 14,\n        align: 'bottom'\n      });\n\n      // Create info window\n      if (thisMarker.type === 'saver') {\n        saverWindowContents[i] = `\n          <p class=\"color-green-dark bold text-medium margin-extra-small\">\n            ${saverMarkers[i].title} - ${thisMarker.distance} mi\n          </p>\n          <p class=\"margin-none\">${thisMarker.address1}</p>\n          <a href=\"#\">Get Directions</a>\n        `;\n      } else {\n        saverWindowContents[i] = `\n          <p class=\"color-blue-base bold text-medium margin-extra-small\">\n            ${saverMarkers[i].title} - ${thisMarker.distance} mi\n          </p>\n          <p class=\"margin-none\">${thisMarker.address1}</p>\n          <a href=\"#\">Get Directions</a>\n        `;\n      }\n\n      saverWindows[i] = new google.maps.InfoWindow({\n        content: saverWindowContents[i],\n      });\n\n      // Add click listener\n      saverMarkers[i].addListener('click', function () {\n        // Close other windows\n        closeWindows(saverWindows);\n        collapseMarkerIcons(saverMarkers);\n\n        // Set icon\n        if ($preferredPharmacies[this.index].type === 'saver') {\n          saverMarkers[this.index].setIcon(greenPinImage);\n        } else {\n          saverMarkers[this.index].setIcon(bluePinImage);\n        }\n\n        saverWindows[this.index].open(map, saverMarkers[this.index]);\n        map.panTo(saverMarkers[this.index].position);\n      });\n\n      // On info window close\n      saverWindows[i].addListener('closeclick',function(){\n        collapseMarkerIcons(saverMarkers);\n      });\n    }\n\n    // Close info window on map click\n    map.addListener('click', function() {\n        closeWindows(saverWindows);\n        collapseMarkerIcons(saverMarkers);\n    });\n\n    google.maps.event.addDomListener(window, 'resize', function() {\n      var mapCenter = map.getCenter();\n      google.maps.event.trigger(map, 'resize');\n      map.setCenter(mapCenter);\n    });\n  }\n\n  // Initialize Map\n  initMap();\n  setMarkers(saverMarkers, map);\n  centerMap(saverMarkers);\n  setMarkers(saverLabels, map);\n\n  //----------------------------------------------------------------------------\n  //  Functions\n  //----------------------------------------------------------------------------\n\n  // Set map markers\n  function setMarkers(arr, context) {\n    for (var i = 0; i < arr.length; i++) {\n      // Check if marker selected\n      if (!arr[i].get('selected')) {\n        arr[i].setMap(context);\n      } else {\n        arr[i].setMap(context);\n        arr[i].setIcon(greenCircleImage);\n      }\n    }\n  }\n\n  // Close all info windows\n  function closeWindows(arr) {\n    for (var i = 0; i < arr.length; i++) {\n      arr[i].close();\n    }\n  }\n\n  // Collapse all marker icons\n  function collapseMarkerIcons(arr) {\n    for (var i = 0; i < arr.length; i++) {\n      // Check if marker selected\n      if ($preferredPharmacies[i].type === 'saver') {\n        arr[i].setIcon(greenCircleImage);\n      } else {\n        arr[i].setIcon(blueCircleImage);\n      }\n\n      // console.log(arr[i].get('label').text);\n\n      // add number back in\n      // arr[i].set('label', {text: i + 1, color: 'white'});\n    }\n  }\n\n  // Remove other markers\n  function removeOtherMarkers(index, markers, infoWindow) {\n    for (var i = 0; i < markers.length; i++) {\n      if (i !== index) {\n        markers[i].setMap(null);\n\n        // Remove selected attribute\n        markers[i].set('selected', false);\n\n        // Add content back into info window\n        if (infoWindow !== undefined) {\n          let windowContent = infoWindow[i].getContent(),\n              regexSelect = /(?=Select)\\w+/g,\n              regexStandard = /(Standard)+/g,\n              regexPrice = /(\\$1234\\.56)+/g;\n\n          // Price\n          if(!regexPrice.test(windowContent) && !regexStandard.test(windowContent)) {\n            windowContent = windowContent.concat('<p class=\"margin-none\">$1234.56 total annual drug cost</p>');\n            infoWindow[i].setContent(windowContent);\n          }\n\n          // select\n          if (!regexSelect.test(windowContent)) {\n            windowContent = windowContent.concat('<a href=\"#\">Select</a>');\n            infoWindow[i].setContent(windowContent);\n          }\n        }\n      }\n    }\n  }\n\n  // Remove all markers\n  function removeAllMarkers() {\n    for (var i = 0; i < saverMarkers.length; i++) {\n      saverMarkers[i].setMap(null);\n      saverMarkers[i].setIcon(blueCircleImage);\n    }\n    for (var i = 0; i < standardMarkers.length; i++) {\n      standardMarkers[i].setMap(null);\n      standardMarkers[i].setIcon(blueCircleImage);\n    }\n  }\n\n  // Center map on bounds\n  function centerMap(arr) {\n    var bounds = new google.maps.LatLngBounds();\n\n    for (var i = 0; i < arr.length; i++) {\n     bounds.extend(arr[i].getPosition());\n    }\n\n    map.fitBounds(bounds);\n  }\n\n  function isWindowOpen(arr) {\n    for (var i = 0; i < arr.length; i++) {\n      if (arr[i].getMap()) {\n        return true;\n      }\n    }\n  }\n\n  // Count number of items in object\n  function countProperties(obj) {\n    var count = 0;\n\n    for(var prop in obj) {\n        if(obj.hasOwnProperty(prop))\n            ++count;\n    }\n\n    return count;\n  }\n});\n"]}