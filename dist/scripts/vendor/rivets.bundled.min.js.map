{"version":3,"sources":["vendor/rivets.bundled.min.js"],"names":["t","s","i","h","e","options","adapters","obj","keypath","callback","objectPath","update","bind","parse","target","realize","set","key","Error","tokenize","a","o","path","length","charAt","indexOf","push","prototype","interfaces","substr","root","tokens","pop","forEach","get","splice","value","Function","setValue","adapter","Object","keys","unobserve","module","exports","define","amd","sightglass","call","n","r","apply","arguments","slice","u","hasOwnProperty","l","constructor","__super__","extensions","binders","components","formatters","prefix","templateDelimiters","rootInterface","preloadData","executeFunctions","iterationAlias","handler","view","models","configure","View","init","document","createElement","template","HTMLElement","firstChild","removeChild","appendChild","innerHTML","initialize","window","jQuery","$","Util","bindEvent","unbindEvent","getInputValue","attr","is","val","addEventListener","attachEvent","removeEventListener","detachEvent","type","checked","selected","TypeParser","types","primitive","test","isNaN","Number","TextTemplateParser","text","binding","trim","p","d","c","f","b","v","m","els","publish","sync","unbind","select","traverse","build","buildBinding","bindingRegExp","jquery","Array","concat","RegExp","match","shift","split","dependencies","bindings","nodeType","data","createTextNode","parentNode","insertBefore","childNodes","sort","binder","priority","nodeName","attributes","name","replace","block","toLowerCase","_bound","ComponentBinding","publishes","Binding","el","getValue","eventHandler","formattedValue","parseFormatterArguments","parseTarget","observe","setBinder","formatterObservers","model","args","exec","routine","observer","read","reverse","locals","component","observers","upstreamObservers","camelCase","toUpperCase","y","g","w","bound","componentView","TextBinding","textContent","innerText","html","show","style","display","hide","enabled","disabled","toString","unchecked","tagName","event","setAttribute","marker","join","getAttribute","createComment","removeAttribute","nested","nextSibling","unless","iterated","k","x","index","cloneNode","className","id","counter","weakmap","weakReference","defineProperty","callbacks","cleanupWeakReference","pointers","stubFunction","observeMutations","isArray","unobserveMutations","getOwnPropertyDescriptor","enumerable","factory","_","require","rivets"],"mappings":"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","file":"rivets.bundled.min.js","sourcesContent":["// Rivets.js + Sightglass.js\n// version: 0.9.6\n// author: Michael Richards\n// license: MIT\n(function(){function t(t,s,i,h){return new e(t,s,i,h)}function e(t,e,i,h){this.options=h||{},this.options.adapters=this.options.adapters||{},this.obj=t,this.keypath=e,this.callback=i,this.objectPath=[],this.update=this.update.bind(this),this.parse(),s(this.target=this.realize())&&this.set(!0,this.key,this.target,this.callback)}function s(t){return'object'==typeof t&&null!==t}function i(t){throw new Error('[sightglass] '+t)}t.adapters={},e.tokenize=function(t,e,s){var i,h,a=[],o={i:s,path:''};for(i=0;i<t.length;i++)h=t.charAt(i),~e.indexOf(h)?(a.push(o),o={i:h,path:''}):o.path+=h;return a.push(o),a},e.prototype.parse=function(){var s,h,a=this.interfaces();a.length||i('Must define at least one adapter interface.'),~a.indexOf(this.keypath[0])?(s=this.keypath[0],h=this.keypath.substr(1)):('undefined'==typeof(s=this.options.root||t.root)&&i('Must define a default root adapter.'),h=this.keypath),this.tokens=e.tokenize(h,a,s),this.key=this.tokens.pop()},e.prototype.realize=function(){var t,e=this.obj,i=!1;return this.tokens.forEach(function(h,a){s(e)?('undefined'!=typeof this.objectPath[a]?e!==(t=this.objectPath[a])&&(this.set(!1,h,t,this.update),this.set(!0,h,e,this.update),this.objectPath[a]=e):(this.set(!0,h,e,this.update),this.objectPath[a]=e),e=this.get(h,e)):(i===!1&&(i=a),(t=this.objectPath[a])&&this.set(!1,h,t,this.update))},this),i!==!1&&this.objectPath.splice(i),e},e.prototype.update=function(){var t,e;(t=this.realize())!==this.target&&(s(this.target)&&this.set(!1,this.key,this.target,this.callback),s(t)&&this.set(!0,this.key,t,this.callback),e=this.value(),this.target=t,(this.value()instanceof Function||this.value()!==e)&&this.callback())},e.prototype.value=function(){return s(this.target)?this.get(this.key,this.target):void 0},e.prototype.setValue=function(t){s(this.target)&&this.adapter(this.key).set(this.target,this.key.path,t)},e.prototype.get=function(t,e){return this.adapter(t).get(e,t.path)},e.prototype.set=function(t,e,s,i){var h=t?'observe':'unobserve';this.adapter(e)[h](s,e.path,i)},e.prototype.interfaces=function(){var e=Object.keys(this.options.adapters);return Object.keys(t.adapters).forEach(function(t){~e.indexOf(t)||e.push(t)}),e},e.prototype.adapter=function(e){return this.options.adapters[e.i]||t.adapters[e.i]},e.prototype.unobserve=function(){var t;this.tokens.forEach(function(e,s){(t=this.objectPath[s])&&this.set(!1,e,t,this.update)},this),s(this.target)&&this.set(!1,this.key,this.target,this.callback)},'undefined'!=typeof module&&module.exports?module.exports=t:'function'==typeof define&&define.amd?define([],function(){return this.sightglass=t}):this.sightglass=t}).call(this);\n(function(){var t,e,i,n,r,s=function(t,e){return function(){return t.apply(e,arguments)}},o=[].slice,u={}.hasOwnProperty,l=function(t,e){function i(){this.constructor=t}for(var n in e)u.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},h=[].indexOf||function(t){for(var e=0,i=this.length;i>e;e++)if(e in this&&this[e]===t)return e;return-1};t={options:['prefix','templateDelimiters','rootInterface','preloadData','handler','executeFunctions'],extensions:['binders','formatters','components','adapters'],'public':{binders:{},components:{},formatters:{},adapters:{},prefix:'rv',templateDelimiters:['{','}'],rootInterface:'.',preloadData:!0,executeFunctions:!1,iterationAlias:function(t){return'%'+t+'%'},handler:function(t,e,i){return this.call(t,e,i.view.models)},configure:function(e){var i,n,r,s;null==e&&(e={});for(r in e)if(s=e[r],'binders'===r||'components'===r||'formatters'===r||'adapters'===r)for(n in s)i=s[n],t[r][n]=i;else t['public'][r]=s},bind:function(e,i,n){var r;return null==i&&(i={}),null==n&&(n={}),r=new t.View(e,i,n),r.bind(),r},init:function(e,i,n){var r,s,o;if(null==n&&(n={}),null==i&&(i=document.createElement('div')),e=t['public'].components[e],s=e.template.call(this,i),s instanceof HTMLElement){for(;i.firstChild;)i.removeChild(i.firstChild);i.appendChild(s)}else i.innerHTML=s;return r=e.initialize.call(this,i,n),o=new t.View(i,r),o.bind(),o}}},window.jQuery||window.$?(i=window.jQuery||window.$,r='on'in i.prototype?['on','off']:['bind','unbind'],e=r[0],n=r[1],t.Util={bindEvent:function(t,n,r){return i(t)[e](n,r)},unbindEvent:function(t,e,r){return i(t)[n](e,r)},getInputValue:function(t){var e;return e=i(t),'checkbox'===e.attr('type')?e.is(':checked'):e.val()}}):t.Util={bindEvent:function(){return'addEventListener'in window?function(t,e,i){return t.addEventListener(e,i,!1)}:function(t,e,i){return t.attachEvent('on'+e,i)}}(),unbindEvent:function(){return'removeEventListener'in window?function(t,e,i){return t.removeEventListener(e,i,!1)}:function(t,e,i){return t.detachEvent('on'+e,i)}}(),getInputValue:function(t){var e,i,n,r;if('checkbox'===t.type)return t.checked;if('select-multiple'===t.type){for(r=[],i=0,n=t.length;n>i;i++)e=t[i],e.selected&&r.push(e.value);return r}return t.value}},t.TypeParser=function(){function t(){}return t.types={primitive:0,keypath:1},t.parse=function(t){return/^'.*'$|^\".*\"$/.test(t)?{type:this.types.primitive,value:t.slice(1,-1)}:'true'===t?{type:this.types.primitive,value:!0}:'false'===t?{type:this.types.primitive,value:!1}:'null'===t?{type:this.types.primitive,value:null}:'undefined'===t?{type:this.types.primitive,value:void 0}:''===t?{type:this.types.primitive,value:void 0}:isNaN(Number(t))===!1?{type:this.types.primitive,value:Number(t)}:{type:this.types.keypath,value:t}},t}(),t.TextTemplateParser=function(){function t(){}return t.types={text:0,binding:1},t.parse=function(t,e){var i,n,r,s,o,u,l;for(u=[],s=t.length,i=0,n=0;s>n;){if(i=t.indexOf(e[0],n),0>i){u.push({type:this.types.text,value:t.slice(n)});break}if(i>0&&i>n&&u.push({type:this.types.text,value:t.slice(n,i)}),n=i+e[0].length,i=t.indexOf(e[1],n),0>i){o=t.slice(n-e[1].length),r=u[u.length-1],(null!=r?r.type:void 0)===this.types.text?r.value+=o:u.push({type:this.types.text,value:o});break}l=t.slice(n,i).trim(),u.push({type:this.types.binding,value:l}),n=i+e[1].length}return u},t}(),t.View=function(){function e(e,i,n){var r,o,u,l,h,a,p,d,c,f,b,v,m;for(this.els=e,this.models=i,null==n&&(n={}),this.update=s(this.update,this),this.publish=s(this.publish,this),this.sync=s(this.sync,this),this.unbind=s(this.unbind,this),this.bind=s(this.bind,this),this.select=s(this.select,this),this.traverse=s(this.traverse,this),this.build=s(this.build,this),this.buildBinding=s(this.buildBinding,this),this.bindingRegExp=s(this.bindingRegExp,this),this.options=s(this.options,this),this.els.jquery||this.els instanceof Array||(this.els=[this.els]),c=t.extensions,h=0,p=c.length;p>h;h++){if(o=c[h],this[o]={},n[o]){f=n[o];for(r in f)u=f[r],this[o][r]=u}b=t['public'][o];for(r in b)u=b[r],null==(l=this[o])[r]&&(l[r]=u)}for(v=t.options,a=0,d=v.length;d>a;a++)o=v[a],this[o]=null!=(m=n[o])?m:t['public'][o];this.build()}return e.prototype.options=function(){var e,i,n,r,s;for(i={},s=t.extensions.concat(t.options),n=0,r=s.length;r>n;n++)e=s[n],i[e]=this[e];return i},e.prototype.bindingRegExp=function(){return new RegExp('^'+this.prefix+'-')},e.prototype.buildBinding=function(e,i,n,r){var s,o,u,l,h,a,p;return h={},p=function(){var t,e,i,n;for(i=r.match(/((?:'[^']*')*(?:(?:[^\\|']*(?:'[^']*')+[^\\|']*)+|[^\\|]+))|^$/g),n=[],t=0,e=i.length;e>t;t++)a=i[t],n.push(a.trim());return n}(),s=function(){var t,e,i,n;for(i=p.shift().split('<'),n=[],t=0,e=i.length;e>t;t++)o=i[t],n.push(o.trim());return n}(),l=s.shift(),h.formatters=p,(u=s.shift())&&(h.dependencies=u.split(/\\s+/)),this.bindings.push(new t[e](this,i,n,l,h))},e.prototype.build=function(){var e,i,n,r,s;for(this.bindings=[],i=function(e){return function(n){var r,s,o,u,l,h,a,p,d,c,f,b,v;if(3===n.nodeType){if(l=t.TextTemplateParser,(o=e.templateDelimiters)&&(p=l.parse(n.data,o)).length&&(1!==p.length||p[0].type!==l.types.text)){for(d=0,f=p.length;f>d;d++)a=p[d],h=document.createTextNode(a.value),n.parentNode.insertBefore(h,n),1===a.type&&e.buildBinding('TextBinding',h,null,a.value);n.parentNode.removeChild(n)}}else 1===n.nodeType&&(r=e.traverse(n));if(!r)for(v=function(){var t,e,i,r;for(i=n.childNodes,r=[],t=0,e=i.length;e>t;t++)u=i[t],r.push(u);return r}(),c=0,b=v.length;b>c;c++)s=v[c],i(s)}}(this),s=this.els,n=0,r=s.length;r>n;n++)e=s[n],i(e);this.bindings.sort(function(t,e){var i,n;return((null!=(i=e.binder)?i.priority:void 0)||0)-((null!=(n=t.binder)?n.priority:void 0)||0)})},e.prototype.traverse=function(e){var i,n,r,s,o,u,l,h,a,p,d,c,f,b,v,m;for(s=this.bindingRegExp(),o='SCRIPT'===e.nodeName||'STYLE'===e.nodeName,b=e.attributes,p=0,c=b.length;c>p;p++)if(i=b[p],s.test(i.name)){if(h=i.name.replace(s,''),!(r=this.binders[h])){v=this.binders;for(u in v)a=v[u],'*'!==u&&-1!==u.indexOf('*')&&(l=new RegExp('^'+u.replace(/\\*/g,'.+')+'$'),l.test(h)&&(r=a))}r||(r=this.binders['*']),r.block&&(o=!0,n=[i])}for(m=n||e.attributes,d=0,f=m.length;f>d;d++)i=m[d],s.test(i.name)&&(h=i.name.replace(s,''),this.buildBinding('Binding',e,h,i.value));return o||(h=e.nodeName.toLowerCase(),this.components[h]&&!e._bound&&(this.bindings.push(new t.ComponentBinding(this,e,h)),o=!0)),o},e.prototype.select=function(t){var e,i,n,r,s;for(r=this.bindings,s=[],i=0,n=r.length;n>i;i++)e=r[i],t(e)&&s.push(e);return s},e.prototype.bind=function(){var t,e,i,n;for(n=this.bindings,e=0,i=n.length;i>e;e++)t=n[e],t.bind()},e.prototype.unbind=function(){var t,e,i,n;for(n=this.bindings,e=0,i=n.length;i>e;e++)t=n[e],t.unbind()},e.prototype.sync=function(){var t,e,i,n;for(n=this.bindings,e=0,i=n.length;i>e;e++)t=n[e],'function'==typeof t.sync&&t.sync()},e.prototype.publish=function(){var t,e,i,n;for(n=this.select(function(t){var e;return null!=(e=t.binder)?e.publishes:void 0}),e=0,i=n.length;i>e;e++)t=n[e],t.publish()},e.prototype.update=function(t){var e,i,n,r,s,o;null==t&&(t={});for(i in t)n=t[i],this.models[i]=n;for(o=this.bindings,r=0,s=o.length;s>r;r++)e=o[r],'function'==typeof e.update&&e.update(t)},e}(),t.Binding=function(){function e(t,e,i,n,r){this.view=t,this.el=e,this.type=i,this.keypath=n,this.options=null!=r?r:{},this.getValue=s(this.getValue,this),this.update=s(this.update,this),this.unbind=s(this.unbind,this),this.bind=s(this.bind,this),this.publish=s(this.publish,this),this.sync=s(this.sync,this),this.set=s(this.set,this),this.eventHandler=s(this.eventHandler,this),this.formattedValue=s(this.formattedValue,this),this.parseFormatterArguments=s(this.parseFormatterArguments,this),this.parseTarget=s(this.parseTarget,this),this.observe=s(this.observe,this),this.setBinder=s(this.setBinder,this),this.formatters=this.options.formatters||[],this.dependencies=[],this.formatterObservers={},this.model=void 0,this.setBinder()}return e.prototype.setBinder=function(){var t,e,i,n;if(!(this.binder=this.view.binders[this.type])){n=this.view.binders;for(t in n)i=n[t],'*'!==t&&-1!==t.indexOf('*')&&(e=new RegExp('^'+t.replace(/\\*/g,'.+')+'$'),e.test(this.type)&&(this.binder=i,this.args=new RegExp('^'+t.replace(/\\*/g,'(.+)')+'$').exec(this.type),this.args.shift()))}return this.binder||(this.binder=this.view.binders['*']),this.binder instanceof Function?this.binder={routine:this.binder}:void 0},e.prototype.observe=function(e,i,n){return t.sightglass(e,i,n,{root:this.view.rootInterface,adapters:this.view.adapters})},e.prototype.parseTarget=function(){var e;return e=t.TypeParser.parse(this.keypath),e.type===t.TypeParser.types.primitive?this.value=e.value:(this.observer=this.observe(this.view.models,this.keypath,this.sync),this.model=this.observer.target)},e.prototype.parseFormatterArguments=function(e,i){var n,r,s,o,u,l,h;for(e=function(){var i,n,s;for(s=[],i=0,n=e.length;n>i;i++)r=e[i],s.push(t.TypeParser.parse(r));return s}(),o=[],n=l=0,h=e.length;h>l;n=++l)r=e[n],o.push(r.type===t.TypeParser.types.primitive?r.value:((u=this.formatterObservers)[i]||(u[i]={}),(s=this.formatterObservers[i][n])?void 0:(s=this.observe(this.view.models,r.value,this.sync),this.formatterObservers[i][n]=s),s.value()));return o},e.prototype.formattedValue=function(t){var e,i,n,r,s,u,l,h,a;for(h=this.formatters,i=u=0,l=h.length;l>u;i=++u)n=h[i],e=n.match(/[^\\s']+|'([^']|'[^\\s])*'|\"([^\"]|\"[^\\s])*\"/g),r=e.shift(),n=this.view.formatters[r],s=this.parseFormatterArguments(e,i),(null!=n?n.read:void 0)instanceof Function?t=(a=n.read).call.apply(a,[this.model,t].concat(o.call(s))):n instanceof Function&&(t=n.call.apply(n,[this.model,t].concat(o.call(s))));return t},e.prototype.eventHandler=function(t){var e,i;return i=(e=this).view.handler,function(n){return i.call(t,this,n,e)}},e.prototype.set=function(e){var i;return e=e instanceof Function&&!this.binder['function']&&t['public'].executeFunctions?this.formattedValue(e.call(this.model)):this.formattedValue(e),null!=(i=this.binder.routine)?i.call(this,this.el,e):void 0},e.prototype.sync=function(){var t,e;return this.set(function(){var i,n,r,s,o,u,l;if(this.observer){if(this.model!==this.observer.target){for(o=this.dependencies,i=0,r=o.length;r>i;i++)e=o[i],e.unobserve();if(this.dependencies=[],null!=(this.model=this.observer.target)&&(null!=(u=this.options.dependencies)?u.length:void 0))for(l=this.options.dependencies,n=0,s=l.length;s>n;n++)t=l[n],e=this.observe(this.model,t,this.sync),this.dependencies.push(e)}return this.observer.value()}return this.value}.call(this))},e.prototype.publish=function(){var t,e,i,n,r,s,u,l,h,a,p,d,c;if(this.observer){for(l=this.getValue(this.el),s=this.formatters.length-1,p=this.formatters.slice(0).reverse(),i=h=0,a=p.length;a>h;i=++h)n=p[i],e=s-i,t=n.split(/\\s+/),r=t.shift(),u=this.parseFormatterArguments(t,e),(null!=(d=this.view.formatters[r])?d.publish:void 0)&&(l=(c=this.view.formatters[r]).publish.apply(c,[l].concat(o.call(u))));return this.observer.setValue(l)}},e.prototype.bind=function(){var t,e,i,n,r,s,o;if(this.parseTarget(),null!=(r=this.binder.bind)&&r.call(this,this.el),null!=this.model&&(null!=(s=this.options.dependencies)?s.length:void 0))for(o=this.options.dependencies,i=0,n=o.length;n>i;i++)t=o[i],e=this.observe(this.model,t,this.sync),this.dependencies.push(e);return this.view.preloadData?this.sync():void 0},e.prototype.unbind=function(){var t,e,i,n,r,s,o,u,l,h;for(null!=(o=this.binder.unbind)&&o.call(this,this.el),null!=(u=this.observer)&&u.unobserve(),l=this.dependencies,r=0,s=l.length;s>r;r++)n=l[r],n.unobserve();this.dependencies=[],h=this.formatterObservers;for(i in h){e=h[i];for(t in e)n=e[t],n.unobserve()}return this.formatterObservers={}},e.prototype.update=function(t){var e,i;return null==t&&(t={}),this.model=null!=(e=this.observer)?e.target:void 0,null!=(i=this.binder.update)?i.call(this,t):void 0},e.prototype.getValue=function(e){return this.binder&&null!=this.binder.getValue?this.binder.getValue.call(this,e):t.Util.getInputValue(e)},e}(),t.ComponentBinding=function(e){function i(e,i,n){var r,o,u,l,a,p,d,c;for(this.view=e,this.el=i,this.type=n,this.unbind=s(this.unbind,this),this.bind=s(this.bind,this),this.locals=s(this.locals,this),this.component=this.view.components[this.type],this['static']={},this.observers={},this.upstreamObservers={},o=e.bindingRegExp(),d=this.el.attributes||[],a=0,p=d.length;p>a;a++)r=d[a],o.test(r.name)||(u=this.camelCase(r.name),l=t.TypeParser.parse(r.value),h.call(null!=(c=this.component['static'])?c:[],u)>=0?this['static'][u]=r.value:l.type===t.TypeParser.types.primitive?this['static'][u]=l.value:this.observers[u]=r.value)}return l(i,e),i.prototype.sync=function(){},i.prototype.update=function(){},i.prototype.publish=function(){},i.prototype.locals=function(){var t,e,i,n,r,s;i={},r=this['static'];for(t in r)n=r[t],i[t]=n;s=this.observers;for(t in s)e=s[t],i[t]=e.value();return i},i.prototype.camelCase=function(t){return t.replace(/-([a-z])/g,function(t){return t[1].toUpperCase()})},i.prototype.bind=function(){var e,i,n,r,s,o,u,l,h,a,p,d,c,f,b,v,m,y,g,w;if(!this.bound){f=this.observers;for(i in f)n=f[i],this.observers[i]=this.observe(this.view.models,n,function(t){return function(e){return function(){return t.componentView.models[e]=t.observers[e].value()}}}(this).call(this,i));this.bound=!0}if(null!=this.componentView)this.componentView.bind();else{for(this.el.innerHTML=this.component.template.call(this),u=this.component.initialize.call(this,this.el,this.locals()),this.el._bound=!0,o={},b=t.extensions,a=0,d=b.length;d>a;a++){if(s=b[a],o[s]={},this.component[s]){v=this.component[s];for(e in v)l=v[e],o[s][e]=l}m=this.view[s];for(e in m)l=m[e],null==(h=o[s])[e]&&(h[e]=l)}for(y=t.options,p=0,c=y.length;c>p;p++)s=y[p],o[s]=null!=(g=this.component[s])?g:this.view[s];this.componentView=new t.View(Array.prototype.slice.call(this.el.childNodes),u,o),this.componentView.bind(),w=this.observers;for(i in w)r=w[i],this.upstreamObservers[i]=this.observe(this.componentView.models,i,function(t){return function(e,i){return function(){return i.setValue(t.componentView.models[e])}}}(this).call(this,i,r))}},i.prototype.unbind=function(){var t,e,i,n,r;i=this.upstreamObservers;for(t in i)e=i[t],e.unobserve();n=this.observers;for(t in n)e=n[t],e.unobserve();return null!=(r=this.componentView)?r.unbind.call(this):void 0},i}(t.Binding),t.TextBinding=function(t){function e(t,e,i,n,r){this.view=t,this.el=e,this.type=i,this.keypath=n,this.options=null!=r?r:{},this.sync=s(this.sync,this),this.formatters=this.options.formatters||[],this.dependencies=[],this.formatterObservers={}}return l(e,t),e.prototype.binder={routine:function(t,e){return t.data=null!=e?e:''}},e.prototype.sync=function(){return e.__super__.sync.apply(this,arguments)},e}(t.Binding),t['public'].binders.text=function(t,e){return null!=t.textContent?t.textContent=null!=e?e:'':t.innerText=null!=e?e:''},t['public'].binders.html=function(t,e){return t.innerHTML=null!=e?e:''},t['public'].binders.show=function(t,e){return t.style.display=e?'':'none'},t['public'].binders.hide=function(t,e){return t.style.display=e?'none':''},t['public'].binders.enabled=function(t,e){return t.disabled=!e},t['public'].binders.disabled=function(t,e){return t.disabled=!!e},t['public'].binders.checked={publishes:!0,priority:2e3,bind:function(e){return t.Util.bindEvent(e,'change',this.publish)},unbind:function(e){return t.Util.unbindEvent(e,'change',this.publish)},routine:function(t,e){var i;return t.checked='radio'===t.type?(null!=(i=t.value)?i.toString():void 0)===(null!=e?e.toString():void 0):!!e}},t['public'].binders.unchecked={publishes:!0,priority:2e3,bind:function(e){return t.Util.bindEvent(e,'change',this.publish)},unbind:function(e){return t.Util.unbindEvent(e,'change',this.publish)},routine:function(t,e){var i;return t.checked='radio'===t.type?(null!=(i=t.value)?i.toString():void 0)!==(null!=e?e.toString():void 0):!e}},t['public'].binders.value={publishes:!0,priority:3e3,bind:function(e){return'INPUT'!==e.tagName||'radio'!==e.type?(this.event='SELECT'===e.tagName?'change':'input',t.Util.bindEvent(e,this.event,this.publish)):void 0},unbind:function(e){return'INPUT'!==e.tagName||'radio'!==e.type?t.Util.unbindEvent(e,this.event,this.publish):void 0},routine:function(t,e){var n,r,s,o,u,l,a;if('INPUT'===t.tagName&&'radio'===t.type)return t.setAttribute('value',e);if(null!=window.jQuery){if(t=i(t),(null!=e?e.toString():void 0)!==(null!=(o=t.val())?o.toString():void 0))return t.val(null!=e?e:'')}else if('select-multiple'===t.type){if(null!=e){for(a=[],r=0,s=t.length;s>r;r++)n=t[r],a.push(n.selected=(u=n.value,h.call(e,u)>=0));return a}}else if((null!=e?e.toString():void 0)!==(null!=(l=t.value)?l.toString():void 0))return t.value=null!=e?e:''}},t['public'].binders['if']={block:!0,priority:4e3,bind:function(t){var e,i;return null==this.marker?(e=[this.view.prefix,this.type].join('-').replace('--','-'),i=t.getAttribute(e),this.marker=document.createComment(' rivets: '+this.type+' '+i+' '),this.bound=!1,t.removeAttribute(e),t.parentNode.insertBefore(this.marker,t),t.parentNode.removeChild(t)):void 0},unbind:function(){return this.nested?(this.nested.unbind(),this.bound=!1):void 0},routine:function(e,i){var n,r,s,o;if(!!i==!this.bound){if(i){s={},o=this.view.models;for(n in o)r=o[n],s[n]=r;return(this.nested||(this.nested=new t.View(e,s,this.view.options()))).bind(),this.marker.parentNode.insertBefore(e,this.marker.nextSibling),this.bound=!0}return e.parentNode.removeChild(e),this.nested.unbind(),this.bound=!1}},update:function(t){var e;return null!=(e=this.nested)?e.update(t):void 0}},t['public'].binders.unless={block:!0,priority:4e3,bind:function(e){return t['public'].binders['if'].bind.call(this,e)},unbind:function(){return t['public'].binders['if'].unbind.call(this)},routine:function(e,i){return t['public'].binders['if'].routine.call(this,e,!i)},update:function(e){return t['public'].binders['if'].update.call(this,e)}},t['public'].binders['on-*']={'function':!0,priority:1e3,unbind:function(e){return this.handler?t.Util.unbindEvent(e,this.args[0],this.handler):void 0},routine:function(e,i){return this.handler&&t.Util.unbindEvent(e,this.args[0],this.handler),t.Util.bindEvent(e,this.args[0],this.handler=this.eventHandler(i))}},t['public'].binders['each-*']={block:!0,priority:4e3,bind:function(t){var e,i,n,r,s;if(null==this.marker)e=[this.view.prefix,this.type].join('-').replace('--','-'),this.marker=document.createComment(' rivets: '+this.type+' '),this.iterated=[],t.removeAttribute(e),t.parentNode.insertBefore(this.marker,t),t.parentNode.removeChild(t);else for(s=this.iterated,n=0,r=s.length;r>n;n++)i=s[n],i.bind()},unbind:function(){var t,e,i,n;if(null!=this.iterated)for(n=this.iterated,e=0,i=n.length;i>e;e++)t=n[e],t.unbind()},routine:function(e,i){var n,r,s,o,u,l,h,a,p,d,c,f,b,v,m,y,g,w,k,x;if(h=this.args[0],i=i||[],this.iterated.length>i.length)for(w=Array(this.iterated.length-i.length),f=0,m=w.length;m>f;f++)s=w[f],c=this.iterated.pop(),c.unbind(),this.marker.parentNode.removeChild(c.els[0]);for(o=b=0,y=i.length;y>b;o=++b)if(l=i[o],r={index:o},r[t['public'].iterationAlias(h)]=o,r[h]=l,null==this.iterated[o]){k=this.view.models;for(u in k)l=k[u],null==r[u]&&(r[u]=l);p=this.iterated.length?this.iterated[this.iterated.length-1].els[0]:this.marker,a=this.view.options(),a.preloadData=!0,d=e.cloneNode(!0),c=new t.View(d,r,a),c.bind(),this.iterated.push(c),this.marker.parentNode.insertBefore(d,p.nextSibling)}else this.iterated[o].models[h]!==l&&this.iterated[o].update(r);if('OPTION'===e.nodeName)for(x=this.view.bindings,v=0,g=x.length;g>v;v++)n=x[v],n.el===this.marker.parentNode&&'value'===n.type&&n.sync()},update:function(t){var e,i,n,r,s,o,u;e={};for(i in t)n=t[i],i!==this.args[0]&&(e[i]=n);for(u=this.iterated,s=0,o=u.length;o>s;s++)r=u[s],r.update(e)}},t['public'].binders['class-*']=function(t,e){var i;return i=' '+t.className+' ',!e==(-1!==i.indexOf(' '+this.args[0]+' '))?t.className=e?''+t.className+' '+this.args[0]:i.replace(' '+this.args[0]+' ',' ').trim():void 0},t['public'].binders['*']=function(t,e){return null!=e?t.setAttribute(this.type,e):t.removeAttribute(this.type)},t['public'].formatters.call=function(){var t,e;return e=arguments[0],t=2<=arguments.length?o.call(arguments,1):[],e.call.apply(e,[this].concat(o.call(t)))},t['public'].adapters['.']={id:'_rv',counter:0,weakmap:{},weakReference:function(t){var e,i,n;return t.hasOwnProperty(this.id)||(e=this.counter++,Object.defineProperty(t,this.id,{value:e})),(i=this.weakmap)[n=t[this.id]]||(i[n]={callbacks:{}})},cleanupWeakReference:function(t,e){return Object.keys(t.callbacks).length||t.pointers&&Object.keys(t.pointers).length?void 0:delete this.weakmap[e]},stubFunction:function(t,e){var i,n,r;return n=t[e],i=this.weakReference(t),r=this.weakmap,t[e]=function(){var e,s,o,u,l,h,a,p,d,c;u=n.apply(t,arguments),a=i.pointers;for(o in a)for(s=a[o],c=null!=(p=null!=(d=r[o])?d.callbacks[s]:void 0)?p:[],l=0,h=c.length;h>l;l++)e=c[l],e();return u}},observeMutations:function(t,e,i){var n,r,s,o,u,l;if(Array.isArray(t)){if(s=this.weakReference(t),null==s.pointers)for(s.pointers={},r=['push','pop','shift','unshift','sort','reverse','splice'],u=0,l=r.length;l>u;u++)n=r[u],this.stubFunction(t,n);if(null==(o=s.pointers)[e]&&(o[e]=[]),h.call(s.pointers[e],i)<0)return s.pointers[e].push(i)}},unobserveMutations:function(t,e,i){var n,r,s;return Array.isArray(t)&&null!=t[this.id]&&(r=this.weakmap[t[this.id]])&&(s=r.pointers[e])?((n=s.indexOf(i))>=0&&s.splice(n,1),s.length||delete r.pointers[e],this.cleanupWeakReference(r,t[this.id])):void 0},observe:function(t,e,i){var n,r,s;return n=this.weakReference(t).callbacks,null==n[e]&&(n[e]=[],r=Object.getOwnPropertyDescriptor(t,e),(null!=r?r.get:void 0)||(null!=r?r.set:void 0)||(s=t[e],Object.defineProperty(t,e,{enumerable:!0,get:function(){return s},set:function(i){return function(r){var o,u,l,a,p;if(r!==s&&(i.unobserveMutations(s,t[i.id],e),s=r,u=i.weakmap[t[i.id]])){if(n=u.callbacks,n[e])for(p=n[e].slice(),l=0,a=p.length;a>l;l++)o=p[l],h.call(n[e],o)>=0&&o();return i.observeMutations(r,t[i.id],e)}}}(this)}))),h.call(n[e],i)<0&&n[e].push(i),this.observeMutations(t[e],t[this.id],e)},unobserve:function(t,e,i){var n,r,s;return(s=this.weakmap[t[this.id]])&&(n=s.callbacks[e])?((r=n.indexOf(i))>=0&&(n.splice(r,1),n.length||(delete s.callbacks[e],this.unobserveMutations(t[e],t[this.id],e))),this.cleanupWeakReference(s,t[this.id])):void 0},get:function(t,e){return t[e]},set:function(t,e,i){return t[e]=i}},t.factory=function(e){return t.sightglass=e,t['public']._=t,t['public']},'object'==typeof('undefined'!=typeof module&&null!==module?module.exports:void 0)?module.exports=t.factory(require('sightglass')):'function'==typeof define&&define.amd?define(['sightglass'],function(e){return this.rivets=t.factory(e)}):this.rivets=t.factory(sightglass)}).call(this);\n"]}